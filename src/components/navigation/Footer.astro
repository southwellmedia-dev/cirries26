---
import { Image } from 'astro:assets';
import Container from '../ui/Container.astro';
import cirriesLogo from '../../assets/logos/cirries-logo-darkmode.svg';

const currentYear = new Date().getFullYear();

const contactInfo = {
  phone: '469-342-9122',
  email: 'support@cirries.com',
  address: '300 N. Colt Rd. Suite #117'
};

const socialLinks = [
  {
    name: 'LinkedIn',
    href: 'https://linkedin.com/company/cirries',
    icon: `<svg width="18" height="18" viewBox="0 0 20 20" fill="currentColor"><path d="M16.667 2.5H3.333C2.873 2.5 2.5 2.873 2.5 3.333v13.334c0 .46.373.833.833.833h13.334c.46 0 .833-.373.833-.833V3.333c0-.46-.373-.833-.833-.833zM6.667 15H4.167V8.333h2.5V15zM5.417 7.083c-.805 0-1.458-.653-1.458-1.458s.653-1.458 1.458-1.458 1.458.653 1.458 1.458-.653 1.458-1.458 1.458zm10 7.917h-2.5v-3.25c0-.775-.014-1.772-1.079-1.772-1.08 0-1.246.844-1.246 1.716V15h-2.5V8.333h2.4v.908h.034c.333-.632 1.148-1.299 2.363-1.299 2.528 0 2.995 1.664 2.995 3.83V15h-.467z"/></svg>`
  },
  {
    name: 'Twitter',
    href: 'https://twitter.com/cirries',
    icon: `<svg width="18" height="18" viewBox="0 0 20 20" fill="currentColor"><path d="M15.75 3h2.75l-6 6.867L19.5 17h-5.531l-4.331-5.664L4.75 17H2l6.422-7.339L1.5 3h5.672l3.914 5.175L15.75 3zm-.969 12.572h1.524L6.28 4.561H4.641l10.14 11.011z"/></svg>`
  },
  {
    name: 'GitHub',
    href: 'https://github.com/cirries',
    icon: `<svg width="18" height="18" viewBox="0 0 20 20" fill="currentColor"><path d="M10 1.667A8.333 8.333 0 001.667 10c0 3.683 2.392 6.808 5.708 7.917.417.075.575-.175.575-.392v-1.525c-2.325.508-2.817-1.1-2.817-1.1-.383-.967-.933-1.225-.933-1.225-.758-.517.058-.508.058-.508.842.058 1.283.867 1.283.867.75 1.283 1.967.917 2.45.7.075-.542.292-.917.533-1.125-1.858-.208-3.808-.925-3.808-4.125 0-.917.325-1.658.867-2.242-.083-.208-.375-1.058.083-2.208 0 0 .708-.225 2.317.858a8.003 8.003 0 014.208 0c1.608-1.083 2.317-.858 2.317-.858.458 1.15.167 2 .083 2.208.542.583.867 1.333.867 2.242 0 3.208-1.958 3.917-3.825 4.117.3.258.575.775.575 1.558v2.317c0 .217.158.475.583.392 3.317-1.1 5.7-4.225 5.7-7.908A8.333 8.333 0 0010 1.667z"/></svg>`
  }
];
---

<footer class="footer">
  <Container size="xl">
    <!-- Main Footer Row -->
    <div class="footer__main">
      <!-- Brand -->
      <div class="footer__brand">
        <a href="/" class="footer__logo" aria-label="Cirries Home">
          <Image
            src={cirriesLogo}
            alt="Cirries"
            width={120}
            height={32}
          />
        </a>
        <p class="footer__tagline">
          Experience unparalleled network visibility and control with AI-powered analytics.
        </p>
      </div>

      <!-- Contact & Social -->
      <div class="footer__contact">
        <a href={`tel:${contactInfo.phone.replace(/-/g, '')}`} class="footer__contact-item">
          <span class="footer__contact-icon" aria-hidden="true">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
            </svg>
          </span>
          <span class="footer__contact-text">{contactInfo.phone}</span>
        </a>

        <a href={`mailto:${contactInfo.email}`} class="footer__contact-item">
          <span class="footer__contact-icon" aria-hidden="true">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="20" height="16" x="2" y="4" rx="2"/>
              <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
            </svg>
          </span>
          <span class="footer__contact-text">{contactInfo.email}</span>
        </a>

        <div class="footer__contact-item">
          <span class="footer__contact-icon" aria-hidden="true">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/>
              <circle cx="12" cy="10" r="3"/>
            </svg>
          </span>
          <span class="footer__contact-text">{contactInfo.address}</span>
        </div>

        <span class="footer__divider" aria-hidden="true"></span>

        <!-- Social Links -->
        <div class="footer__social">
          {socialLinks.map((social) => (
            <a
              href={social.href}
              class="footer__social-link"
              aria-label={social.name}
              target="_blank"
              rel="noopener noreferrer"
              set:html={social.icon}
            />
          ))}
        </div>
      </div>
    </div>

    <!-- Footer Bottom -->
    <div class="footer__bottom">
      <p class="footer__copyright">
        &copy; {currentYear} Cirries. All rights reserved.
      </p>
      <div class="footer__legal">
        <a href="/privacy" class="footer__legal-link">Privacy Policy</a>
        <a href="/terms" class="footer__legal-link">Terms of Service</a>
        <a href="/cookies" class="footer__legal-link">Cookie Policy</a>
      </div>
    </div>
  </Container>
</footer>

<style>
  .footer {
    background-color: var(--color-bg-primary);
    border-top: 1px solid var(--color-border);
    padding-top: var(--space-12);
    padding-bottom: var(--space-6);
  }

  /* Main Content */
  .footer__main {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--space-8);
    padding-bottom: var(--space-8);
    border-bottom: 1px solid var(--color-border-subtle);
  }

  /* Brand Column */
  .footer__brand {
    max-width: 260px;
  }

  .footer__logo {
    display: inline-block;
    margin-bottom: var(--space-3);
  }

  .footer__logo img {
    height: 32px;
    width: auto;
  }

  .footer__tagline {
    font-size: var(--text-xs);
    line-height: var(--leading-relaxed);
    color: var(--color-text-muted);
    margin-bottom: var(--space-5);
  }

  /* Contact Row */
  .footer__contact {
    display: flex;
    align-items: center;
    gap: var(--space-5);
  }

  /* Vertical Divider */
  .footer__divider {
    width: 1px;
    height: 28px;
    background: var(--color-border);
  }

  /* Social Links */
  .footer__social {
    display: flex;
    gap: var(--space-2);
  }

  .footer__social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: var(--color-bg-card);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    color: var(--color-text-muted);
    transition:
      color var(--duration-fast) var(--ease-out),
      border-color var(--duration-fast) var(--ease-out),
      background-color var(--duration-fast) var(--ease-out);
  }

  .footer__social-link:hover {
    color: var(--color-primary);
    border-color: var(--color-primary);
    background-color: var(--color-primary-subtle);
  }

  /* Contact Bar */
  .footer__contact-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-8);
    padding: var(--space-6) 0;
    border-bottom: 1px solid var(--color-border-subtle);
  }

  .footer__contact-heading {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
  }

  .footer__contact-heading-text {
    font-family: var(--font-display);
    font-size: var(--text-base);
    font-weight: var(--font-semibold);
    color: var(--color-text-primary);
  }

  .footer__contact-heading-subtext {
    font-size: var(--text-xs);
    color: var(--color-text-muted);
  }

  .footer__contact-items {
    display: flex;
    align-items: center;
    gap: var(--space-6);
  }

  .footer__contact-item {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    text-decoration: none;
    color: var(--color-text-muted);
    transition: color var(--duration-fast) var(--ease-out);
  }

  a.footer__contact-item:hover {
    color: var(--color-text-primary);
  }

  a.footer__contact-item:hover .footer__contact-icon {
    color: var(--color-primary);
    border-color: var(--color-primary);
    background: var(--color-primary-subtle);
  }

  .footer__contact-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    background: var(--color-bg-card);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    color: var(--color-text-muted);
    flex-shrink: 0;
    transition:
      color var(--duration-fast) var(--ease-out),
      border-color var(--duration-fast) var(--ease-out),
      background-color var(--duration-fast) var(--ease-out);
  }

  .footer__contact-text {
    font-size: var(--text-xs);
    color: inherit;
  }

  /* Navigation */
  .footer__nav {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-6);
    justify-items: end;
    text-align: left;
  }

  .footer__nav-title {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-family: var(--font-display);
    font-size: var(--text-xs);
    font-weight: var(--font-semibold);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wider);
    color: var(--color-text-primary);
    margin-bottom: var(--space-4);
  }

  .footer__nav-title-icon {
    width: 3px;
    height: 12px;
    background: var(--color-primary);
    border-radius: var(--radius-full);
    flex-shrink: 0;
  }

  .footer__nav-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2-5);
  }

  .footer__nav-link {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--text-xs);
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--duration-fast) var(--ease-out);
    line-height: var(--leading-normal);
  }

  .footer__nav-bullet {
    width: 4px;
    height: 4px;
    background: var(--color-border-hover);
    border-radius: 50%;
    flex-shrink: 0;
    transition:
      background-color var(--duration-fast) var(--ease-out),
      transform var(--duration-fast) var(--ease-out);
  }

  .footer__nav-link:hover {
    color: var(--color-text-primary);
  }

  .footer__nav-link:hover .footer__nav-bullet {
    background: var(--color-primary);
    transform: scale(1.25);
  }

  /* Bottom Bar */
  .footer__bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: var(--space-6);
  }

  .footer__copyright {
    font-size: var(--text-xs);
    color: var(--color-text-dim);
  }

  .footer__legal {
    display: flex;
    gap: var(--space-4);
  }

  .footer__legal-link {
    font-size: var(--text-xs);
    color: var(--color-text-dim);
    text-decoration: none;
    transition: color var(--duration-fast) var(--ease-out);
  }

  .footer__legal-link:hover {
    color: var(--color-text-muted);
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .footer__main {
      flex-direction: column;
      gap: var(--space-6);
      text-align: center;
    }

    .footer__brand {
      max-width: none;
    }

    .footer__tagline {
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    .footer__contact {
      flex-wrap: wrap;
      justify-content: center;
    }
  }

  @media (max-width: 768px) {
    .footer__contact {
      gap: var(--space-4);
    }

    .footer__divider {
      display: none;
    }
  }

  @media (max-width: 480px) {
    .footer__contact {
      flex-direction: column;
      gap: var(--space-3);
    }

    .footer__social {
      margin-top: var(--space-2);
    }

    .footer__bottom {
      flex-direction: column;
      gap: var(--space-3);
      text-align: center;
    }

    .footer__legal {
      flex-wrap: wrap;
      justify-content: center;
      gap: var(--space-3);
    }
  }
</style>

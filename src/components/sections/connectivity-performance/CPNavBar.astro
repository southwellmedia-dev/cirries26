---
/**
 * CPNavBar - Navigation for Connectivity & Performance child pages
 *
 * Premium card-based navigation using CapabilityCard component.
 * Features interactive hover states with color-coded accents.
 */
import Container from "../../ui/Container.astro";
import CapabilityCard from "../../ui/CapabilityCard.astro";

interface NavItem {
  title: string;
  description: string;
  badges: string[];
  href: string;
  accent: string;
  faIcon: string;
}

interface Props {
  label?: string;
  currentPage?: string;
  items?: NavItem[];
}

const {
  label = "Explore Connectivity & Performance Solutions",
  currentPage = "",
  items = [
    {
      title: "Mobile Networks",
      description: "5G, LTE, and mobile core observability with end-to-end visibility",
      badges: ["5G", "LTE", "RAN"],
      href: "/solutions/connectivity-performance/mobile",
      accent: "#EA242B",
      faIcon: "fa-solid fa-signal",
    },
    {
      title: "Cloud Monitoring",
      description: "Multi-cloud and hybrid visibility across AWS, Azure, GCP, and private clouds",
      badges: ["Multi-Cloud", "Hybrid"],
      href: "/solutions/connectivity-performance/cloud-monitoring",
      accent: "#EA242B",
      faIcon: "fa-solid fa-cloud",
    },
    {
      title: "IoT Intelligence",
      description: "Connected device management, security, and real-time operational insights",
      badges: ["Devices", "Security"],
      href: "/solutions/connectivity-performance/iot",
      accent: "#EA242B",
      faIcon: "fa-solid fa-microchip",
    },
    {
      title: "Home Broadband",
      description: "Wi-Fi intelligence and subscriber experience beyond the network edge",
      badges: ["Wi-Fi", "CPE"],
      href: "/solutions/connectivity-performance/home-broadband",
      accent: "#EA242B",
      faIcon: "fa-solid fa-wifi",
    },
    {
      title: "Private Networks",
      description: "Enterprise and private 5G network observability with end-to-end SLA assurance",
      badges: ["Enterprise", "Private 5G"],
      href: "/solutions/connectivity-performance/private-network",
      accent: "#EA242B",
      faIcon: "fa-solid fa-building",
    },
  ],
} = Astro.props;

// Filter out current page from navigation
const navItems = items.filter(item => item.href !== currentPage);
---

<section class="cp-nav-bar" id="solutions">
  <Container size="xl">
    <div class="nav-wrapper">
      <!-- Section Label -->
      <div class="nav-label">
        <span class="label-line"></span>
        <span class="label-text">{label}</span>
        <span class="label-line"></span>
      </div>

      <!-- Navigation Cards Grid -->
      <div class="nav-cards">
        {navItems.map((item) => (
          <CapabilityCard
            icon={item.faIcon}
            iconType="fa"
            title={item.title}
            description={item.description}
            badges={item.badges}
            accent={item.accent}
            theme="light"
            size="sm"
            href={item.href}
            accentPosition="bottom"
          />
        ))}
      </div>
    </div>
  </Container>
</section>

<style>
  .cp-nav-bar {
    position: relative;
    padding: var(--space-12) 0 var(--space-16);
    background: linear-gradient(180deg, var(--color-bg-secondary) 0%, var(--color-bg-card) 100%);
    border-top: 1px solid var(--color-black-5);
    border-bottom: 1px solid var(--color-black-5);
  }

  .nav-wrapper {
    display: flex;
    flex-direction: column;
    gap: var(--space-8);
  }

  /* Label */
  .nav-label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-4);
  }

  .label-line {
    flex: 1;
    max-width: 150px;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--color-black-10), transparent);
  }

  .label-text {
    font-family: var(--font-mono);
    font-size: var(--text-2xs);
    font-weight: var(--font-semibold);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--color-text-muted);
  }

  /* Navigation Cards Grid */
  .nav-cards {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: var(--space-4);
  }

  /* Responsive */
  @media (max-width: 1200px) {
    .nav-cards {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (max-width: 900px) {
    .nav-cards {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 768px) {
    .cp-nav-bar {
      padding: var(--space-10) 0 var(--space-12);
    }

    .nav-cards {
      grid-template-columns: 1fr;
      gap: var(--space-3);
    }

    .label-line {
      max-width: 80px;
    }
  }
</style>

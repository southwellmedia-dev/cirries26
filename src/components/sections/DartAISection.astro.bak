---
import Container from '../ui/Container.astro';
import Button from '../ui/Button.astro';

interface Feature {
  icon: string;
  title: string;
  description: string;
}

interface Props {
  sectionLabel?: string;
  introDescription?: string;
  discoverText?: string;
  features?: Feature[];
  valueHeadline?: string;
  valueHighlight?: string;
  valueDescription?: string;
  ctaLabel?: string;
  ctaHref?: string;
}

const {
  sectionLabel = 'INTRODUCING',
  introDescription = `"Cirries" AI Network Observability, powered by DART AI, provides unmatched accuracy and reliability in anomaly detection and resolution. We proactively identify missed KPIs and network anomalies, triggering automated diagnostics and forensic data collection. Our advanced AI models deliver detailed analysis and remediation steps in seconds, dramatically reducing MTTR and ensuring seamless network operations.`,
  discoverText = `Discover the essential features that ensure network reliability, security, and optimal performance. We deliver seamless connectivity and enhance network efficiency, providing a robust foundation for your operations.`,
  features = [
    {
      icon: '/src/assets/icons/anomoly-detection.svg',
      title: 'AI-Powered Anomaly Detection',
      description: 'Catch issues in real-time, ensuring swift, precise detection.'
    },
    {
      icon: '/src/assets/icons/scalability.svg',
      title: 'Scalability & Flexibility',
      description: 'Adapt to any network size, from small setups to large infrastructures with seamless scalability.'
    },
    {
      icon: '/src/assets/icons/infrastructure.svg',
      title: 'Easy Infrastructure',
      description: 'Integrate DART AI effortlessly into your existing environment and enhance network performance.'
    },
    {
      icon: '/src/assets/icons/cost-effective.svg',
      title: 'Cost-Effective Solutions',
      description: 'Significantly reduce operational costs while maintaining excellent network health.'
    }
  ],
  valueHeadline = 'DART AI: Real-Time Network Insights,',
  valueHighlight = 'Immediate Action.',
  valueDescription = `Cirries is revolutionizing network management with DART AI, a suite of next-generation tools designed to optimize user experiences. We enable you to monitor, secure, and empower your network in real-time, ensuring peak performance and optimal. DART AI's software-driven architecture scales effortlessly and evolves continuously, providing a future-proof solution for your network.`,
  ctaLabel = 'Explore DART AI By Cirries',
  ctaHref = '/solutions/dart-ai'
} = Astro.props;
---

<section class="dart-ai">
  <!-- Background Glow -->
  <div class="dart-ai__bg" aria-hidden="true">
    <div class="dart-ai__glow"></div>
  </div>

  <Container size="xl" class="dart-ai__container">
    <div class="dart-ai__layout">
      <!-- Left Column: Introduction & Features -->
      <div class="dart-ai__left">
        <span class="dart-ai__label">{sectionLabel}</span>

        <div class="dart-ai__logo">
          <img
            src="/src/assets/logos/dart-darkmode.svg"
            alt="DART AI"
            loading="lazy"
          />
        </div>

        <p class="dart-ai__intro-text">{introDescription}</p>

        <p class="dart-ai__discover-text">{discoverText}</p>

        <div class="dart-ai__features">
          {features.map((feature, index) => (
            <div class="dart-ai__feature" style={`--delay: ${index * 80}ms`}>
              <div class="dart-ai__feature-icon">
                <img src={feature.icon} alt="" width="24" height="24" loading="lazy" />
              </div>
              <div class="dart-ai__feature-text">
                <h3 class="dart-ai__feature-title">{feature.title}</h3>
                <p class="dart-ai__feature-desc">{feature.description}</p>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Right Column: Hand + Value Proposition -->
      <div class="dart-ai__right">
        <!-- Hand positioned within right column -->
        <div class="dart-ai__hand-wrapper" aria-hidden="true">
          <img
            src="/src/assets/ai-hand.png"
            alt=""
            class="dart-ai__hand"
            loading="lazy"
            decoding="async"
          />
          <div class="dart-ai__hand-glow"></div>
        </div>

        <!-- Value content overlays the hand area -->
        <div class="dart-ai__value">
          <h2 class="dart-ai__headline">
            {valueHeadline}
            <span class="dart-ai__highlight">{valueHighlight}</span>
          </h2>

          <p class="dart-ai__description">{valueDescription}</p>

          <Button variant="primary" size="lg" href={ctaHref} class="dart-ai__cta">
            {ctaLabel}
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true">
              <path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </Button>
        </div>
      </div>
    </div>
  </Container>
</section>

<style>
  .dart-ai {
    position: relative;
    padding: var(--space-16) 0;
    background-color: var(--color-bg-primary);
    overflow: hidden;
  }

  /* Background Glow - bottom left */
  .dart-ai__bg {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .dart-ai__glow {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 50%;
    height: 80%;
    background: radial-gradient(
      ellipse 100% 100% at 0% 100%,
      rgba(234, 36, 43, 0.12) 0%,
      rgba(234, 36, 43, 0.04) 40%,
      transparent 70%
    );
  }

  .dart-ai__container {
    position: relative;
    z-index: 1;
  }

  /* Two Column Layout - side by side */
  .dart-ai__layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-8);
    align-items: start;
  }

  /* ===== LEFT COLUMN ===== */
  .dart-ai__left {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    padding-right: var(--space-4);
  }

  .dart-ai__label {
    font-family: var(--font-display);
    font-size: var(--text-xs);
    font-weight: var(--font-semibold);
    letter-spacing: var(--tracking-widest);
    color: var(--color-primary);
    text-transform: uppercase;
  }

  .dart-ai__logo {
    margin: var(--space-1) 0;
  }

  .dart-ai__logo img {
    height: 48px;
    width: auto;
  }

  .dart-ai__intro-text {
    font-family: var(--font-body);
    font-size: var(--text-sm);
    line-height: var(--leading-relaxed);
    color: var(--color-text-secondary);
  }

  .dart-ai__discover-text {
    font-family: var(--font-body);
    font-size: var(--text-xs);
    line-height: var(--leading-relaxed);
    color: var(--color-text-muted);
  }

  /* Feature Grid - 2x2 */
  .dart-ai__features {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-3);
    margin-top: var(--space-3);
  }

  .dart-ai__feature {
    display: flex;
    gap: var(--space-3);
    padding: var(--space-3);
    background: rgba(20, 20, 20, 0.8);
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-lg);
    transition: all var(--duration-fast) var(--ease-out);
  }

  .dart-ai__feature:hover {
    border-color: var(--color-border-hover);
    background: rgba(30, 30, 30, 0.9);
    transform: translateY(-2px);
  }

  .dart-ai__feature-icon {
    display: flex;
    align-items: flex-start;
    justify-content: center;
    width: 32px;
    height: 32px;
    padding: 6px;
    background: var(--color-primary-subtle);
    border-radius: var(--radius-md);
    flex-shrink: 0;
  }

  .dart-ai__feature-icon img {
    width: 18px;
    height: 18px;
    filter: brightness(0) saturate(100%) invert(27%) sepia(87%) saturate(2577%) hue-rotate(344deg) brightness(96%) contrast(92%);
  }

  .dart-ai__feature-text {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  .dart-ai__feature-title {
    font-family: var(--font-display);
    font-size: var(--text-xs);
    font-weight: var(--font-semibold);
    color: var(--color-text-primary);
    line-height: var(--leading-tight);
  }

  .dart-ai__feature-desc {
    font-family: var(--font-body);
    font-size: 11px;
    line-height: var(--leading-relaxed);
    color: var(--color-text-muted);
  }

  /* ===== RIGHT COLUMN ===== */
  .dart-ai__right {
    position: relative;
    display: flex;
    flex-direction: column;
    min-height: 500px;
  }

  /* Hand - positioned within right column, bleeding off right edge */
  .dart-ai__hand-wrapper {
    position: absolute;
    top: -10%;
    right: -30%;
    width: 130%;
    z-index: 1;
    pointer-events: none;
  }

  .dart-ai__hand {
    width: 100%;
    height: auto;
    animation: float 6s var(--ease-in-out) infinite;
    filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.4));
  }

  .dart-ai__hand-glow {
    position: absolute;
    bottom: 15%;
    left: 30%;
    width: 40%;
    height: 30%;
    background: radial-gradient(
      ellipse at center,
      var(--color-primary-glow) 0%,
      transparent 70%
    );
    filter: blur(50px);
    opacity: 0.3;
  }

  /* Value content - sits on top of hand */
  .dart-ai__value {
    position: relative;
    z-index: 2;
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    max-width: 400px;
  }

  .dart-ai__headline {
    font-family: var(--font-display);
    font-size: var(--text-2xl);
    font-weight: var(--font-bold);
    line-height: var(--leading-tight);
    color: var(--color-text-primary);
  }

  .dart-ai__highlight {
    color: var(--color-primary);
    position: relative;
    display: inline;
  }

  .dart-ai__highlight::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: var(--color-primary);
    border-radius: var(--radius-full);
  }

  .dart-ai__description {
    font-family: var(--font-body);
    font-size: var(--text-sm);
    line-height: var(--leading-relaxed);
    color: var(--color-text-secondary);
  }

  .dart-ai__cta {
    align-self: flex-start;
    margin-top: var(--space-2);
  }

  /* ===== RESPONSIVE ===== */
  @media (max-width: 1024px) {
    .dart-ai__layout {
      grid-template-columns: 1fr;
      gap: var(--space-10);
    }

    .dart-ai__left {
      padding-right: 0;
    }

    .dart-ai__right {
      min-height: auto;
    }

    .dart-ai__hand-wrapper {
      position: relative;
      top: auto;
      right: auto;
      width: 100%;
      max-width: 450px;
      margin: 0 auto var(--space-6);
    }

    .dart-ai__value {
      max-width: 100%;
    }
  }

  @media (max-width: 768px) {
    .dart-ai {
      padding: var(--space-12) 0;
    }

    .dart-ai__features {
      grid-template-columns: 1fr;
    }

    .dart-ai__headline {
      font-size: var(--text-xl);
    }

    .dart-ai__logo img {
      height: 40px;
    }

    .dart-ai__hand-wrapper {
      max-width: 320px;
    }
  }

  @media (max-width: 480px) {
    .dart-ai__feature {
      flex-direction: column;
      align-items: flex-start;
    }

    .dart-ai__cta {
      width: 100%;
      justify-content: center;
    }
  }
</style>

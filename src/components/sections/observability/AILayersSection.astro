---
/**
 * AILayersSection - "Four Intelligences, One Cognitive System"
 *
 * Dark section showcasing the 4 AI layers with exact client content:
 * 1. Ontology Stack - The Foundation: Understanding
 * 2. Machine Learning - The Watchtower: Predicting
 * 3. Agentic AI - The First Responder: Acting
 * 4. Generative AI - The Translator: Communicating
 */
import Container from "../../ui/Container.astro";

interface Props {
  badge?: string;
  title?: string;
  titleHighlight?: string;
  layers?: {
    number: string;
    subtitle: string;
    title: string;
    description: string;
  }[];
  closingTitle?: string;
  closingDescription?: string;
}

const {
  badge = "Four Forms of AI",
  title = "A Complete",
  titleHighlight = "Cognitive System",
  layers = [
    {
      number: "01",
      subtitle: "The Foundation",
      title: "Understanding with an Ontology Stack",
      description: "Before you can identify what's wrong, you must first understand what is. At the core of our platform is a powerful Ontology Stack. This isn't just a database; it's a dynamic map of your entire environment. It builds a rich, contextual model of every device, service, application, and user, and crucially, understands the intricate relationships between them."
    },
    {
      number: "02",
      subtitle: "The Watchtower",
      title: "Predicting with Machine Learning",
      description: "With this deep context in place, our Machine Learning (ML) models go to work. Trained on your network's unique patterns, our ML engine continuously analyzes millions of real-time data points to detect the subtlest deviations from the norm. It moves beyond simple threshold-based alerts to identify complex anomalies and, more importantly, predict performance degradation and potential SLA breaches before they can impact your business."
    },
    {
      number: "03",
      subtitle: "The First Responder",
      title: "Acting with Agentic AI",
      description: "When an issue is identified and understood, what happens next? This is where Agentic AI transforms observability into action. Our intelligent agents are empowered to act autonomously, with a single goal: to maintain your defined performance, security, and business objectives. They can independently diagnose root causes across the most complex hybrid environments and trigger automated remediation—rerouting traffic, isolating a threat, or reallocating resources—without waiting for human intervention."
    },
    {
      number: "04",
      subtitle: "The Translator",
      title: "Communicating with Generative AI",
      description: "Finally, our Generative AI layer closes the loop between the network and its human operators. It translates complex technical events and automated actions into clear, human-readable narratives. Instead of a cryptic alert, your team receives an intelligent summary explaining what happened, why it happened, the business impact, and what was done to resolve it. It can even simulate potential fixes and their outcomes, turning every event into a learning opportunity."
    }
  ],
  closingTitle = "The Cirries Advantage: A System That Understands",
  closingDescription = "By layering these four intelligences, Cirries delivers a platform that doesn't just see your network—it understands it. It anticipates challenges, acts decisively, and communicates with clarity. This is the future of the autonomous network."
} = Astro.props;
---

<section class="ai-layers-section" data-theme="dark">
  <!-- Atmospheric Background -->
  <div class="section-bg">
    <div class="grid-pattern"></div>
    <div class="glow-orb glow-orb--primary"></div>
    <div class="glow-orb glow-orb--secondary"></div>
  </div>

  <Container size="xl">
    <!-- Section Header -->
    <header class="section-header">
      <span class="section-badge">{badge}</span>
      <h2 class="section-title">
        {title}
        <span class="title-highlight">{titleHighlight}</span>
      </h2>
    </header>

    <!-- AI Layer Cards -->
    <div class="layers-grid">
      {layers.map((layer, index) => (
        <article class="layer-card" style={`--card-index: ${index}`}>
          <div class="card-header">
            <span class="card-number">{layer.number}</span>
            <!-- SVG icons instead of emojis -->
            <div class="card-icon">
              {index === 0 && (
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l5.447 2.724A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              )}
              {index === 1 && (
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              )}
              {index === 2 && (
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M13 10V3L4 14h7v7l9-11h-7z" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              )}
              {index === 3 && (
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              )}
            </div>
          </div>
          <span class="card-subtitle">{layer.subtitle}</span>
          <h3 class="card-title">{layer.title}</h3>
          <p class="card-description">{layer.description}</p>
        </article>
      ))}
    </div>

    <!-- Closing Block -->
    <div class="closing-block">
      <h3 class="closing-title">{closingTitle}</h3>
      <p class="closing-description">{closingDescription}</p>
    </div>
  </Container>
</section>

<style>
  /* ========================================
     SECTION BASE
     ======================================== */
  .ai-layers-section {
    position: relative;
    padding: var(--space-24) 0;
    background: var(--color-bg-primary);
    overflow: hidden;
  }

  /* Atmospheric Background */
  .section-bg {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .grid-pattern {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(var(--color-white-1) 1px, transparent 1px),
      linear-gradient(90deg, var(--color-white-1) 1px, transparent 1px);
    background-size: 80px 80px;
    mask-image: radial-gradient(
      ellipse 80% 60% at 50% 40%,
      black 0%,
      transparent 70%
    );
    -webkit-mask-image: radial-gradient(
      ellipse 80% 60% at 50% 40%,
      black 0%,
      transparent 70%
    );
  }

  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(120px);
  }

  .glow-orb--primary {
    top: -100px;
    left: 10%;
    width: 500px;
    height: 500px;
    background: var(--color-primary);
    opacity: 0.06;
  }

  .glow-orb--secondary {
    bottom: -150px;
    right: 15%;
    width: 400px;
    height: 400px;
    background: var(--color-primary);
    opacity: 0.04;
  }

  /* ========================================
     HEADER
     ======================================== */
  .section-header {
    text-align: center;
    max-width: 800px;
    margin: 0 auto var(--space-16);
    position: relative;
    z-index: 1;
  }

  .section-badge {
    display: inline-block;
    padding: var(--space-2) var(--space-5);
    font-family: var(--font-display);
    font-size: var(--text-xs);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--color-primary);
    background: var(--color-primary-muted);
    border: 1px solid var(--color-primary-subtle);
    border-radius: 100px;
    margin-bottom: var(--space-5);
  }

  .section-title {
    font-family: var(--font-display);
    font-size: clamp(2.25rem, 5vw, 3.5rem);
    font-weight: var(--font-bold);
    line-height: 1.1;
    letter-spacing: var(--tracking-tight);
    color: var(--color-text-primary);
    margin-bottom: var(--space-6);
  }

  .title-highlight {
    color: var(--color-primary);
  }

  /* ========================================
     LAYER CARDS - 2x2 Grid
     ======================================== */
  .layers-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-6);
    margin-bottom: var(--space-16);
    position: relative;
    z-index: 1;
  }

  .layer-card {
    position: relative;
    padding: var(--space-8);
    background: linear-gradient(
      145deg,
      rgba(20, 20, 20, 0.8) 0%,
      rgba(15, 15, 15, 0.9) 100%
    );
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);

    /* Staggered animation */
    animation: cardReveal 0.6s ease forwards;
    animation-delay: calc(var(--card-index) * 0.15s);
    opacity: 0;
  }

  @keyframes cardReveal {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .layer-card:hover {
    border-color: var(--color-primary-subtle);
    transform: translateY(-4px);
    box-shadow:
      0 16px 32px var(--color-black-20),
      0 0 40px var(--color-primary-8);
  }

  .card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-4);
  }

  .card-number {
    font-family: var(--font-mono, "JetBrains Mono", monospace);
    font-size: var(--text-xs);
    font-weight: 600;
    color: var(--color-primary);
    opacity: 0.6;
  }

  .card-icon {
    width: 28px;
    height: 28px;
    color: var(--color-primary);
  }

  .card-icon svg {
    width: 100%;
    height: 100%;
  }

  .card-subtitle {
    display: block;
    font-family: var(--font-display);
    font-size: var(--text-2xs);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--color-primary);
    margin-bottom: var(--space-2);
  }

  .card-title {
    font-family: var(--font-display);
    font-size: var(--text-lg);
    font-weight: var(--font-bold);
    color: var(--color-text-primary);
    margin-bottom: var(--space-3);
    line-height: 1.2;
  }

  .card-description {
    font-family: var(--font-body);
    font-size: var(--text-sm);
    line-height: var(--leading-relaxed);
    color: var(--color-text-secondary);
    margin: 0;
  }

  /* ========================================
     CLOSING BLOCK
     ======================================== */
  .closing-block {
    position: relative;
    z-index: 1;
    padding: var(--space-10);
    background: linear-gradient(
      135deg,
      var(--color-primary-5) 0%,
      var(--color-primary-2) 100%
    );
    border: 1px solid var(--color-primary-subtle);
    border-radius: var(--radius-2xl);
    text-align: center;
  }

  .closing-title {
    font-family: var(--font-display);
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: var(--font-bold);
    color: var(--color-text-primary);
    margin-bottom: var(--space-4);
    text-align: center;
  }

  .closing-description {
    font-family: var(--font-body);
    font-size: var(--text-base);
    line-height: var(--leading-relaxed);
    color: var(--color-text-secondary);
    margin: 0 auto;
    max-width: 800px;
    text-align: center;
  }

  /* ========================================
     RESPONSIVE
     ======================================== */
  @media (max-width: 1024px) {
    .layers-grid {
      grid-template-columns: 1fr;
      gap: var(--space-5);
    }

    .layer-card {
      padding: var(--space-6);
    }
  }

  @media (max-width: 768px) {
    .ai-layers-section {
      padding: var(--space-16) 0;
    }

    .section-title {
      font-size: var(--text-3xl);
    }

    .closing-block {
      padding: var(--space-6);
    }

    .closing-title {
      font-size: var(--text-xl);
    }

    .closing-description {
      font-size: var(--text-sm);
    }
  }
</style>

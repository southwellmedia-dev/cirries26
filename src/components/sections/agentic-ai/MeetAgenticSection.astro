---
/**
 * MeetAgenticSection - "The Autonomous Network" intro section
 *
 * Light mode section introducing Agentic AI with neural network visualization.
 * Content from: docs/content/autonomous-network-agentic-ai.md
 */
import { Image } from "astro:assets";
import Container from "../../ui/Container.astro";
import Button from "../../ui/Button.astro";

// Import images
import dartLogoLight from "../../../assets/logos/dart-lightmode.svg";

interface Stat {
  value: string;
  label: string;
  icon: string;
}

interface Props {
  eyebrow?: string;
  title?: string;
  highlightText?: string;
  paragraphs?: string[];
  primaryCta?: { label: string; href: string };
  secondaryCta?: { label: string; href: string };
  stats?: Stat[];
}

const {
  eyebrow = "The Future of Network Observability",
  title = "The Autonomous Network:",
  highlightText = "Powered by Agentic AI",
  paragraphs = [
    "Today's networks have surpassed human scale. The sheer complexity and velocity of data generated by cloud, edge computing, and private 5G have made traditional network management obsolete. <strong>Constant firefighting and reactive problem-solving are no longer sustainable.</strong> It's time for the network to manage itself.",
    "This is the future of network observability, and it's powered by Agentic AI. At its core, Agentic AI transforms your network from a passive system that simply reports problems into an autonomous entity that can reason, decide, and act. It's an intelligence layer that understands your business goals and works proactively to achieve them\u2014without waiting for human command."
  ],
  primaryCta = { label: "Experience Agentic AI", href: "/contact" },
  secondaryCta = { label: "View All Solutions", href: "/solutions" },
  stats = [
    { value: "Autonomous", label: "Self-healing network", icon: "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" },
    { value: "Predictive", label: "Proactive resolution", icon: "M13 10V3L4 14h7v7l9-11h-7z" },
    { value: "Goal-Driven", label: "Intent-based control", icon: "M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" },
    { value: "Intelligent", label: "Context-aware AI", icon: "M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" }
  ]
} = Astro.props;
---

<section class="meet-agentic-section" data-theme="light">
  <!-- Neural background system -->
  <div class="neural-bg">
    <div class="neural-gradient"></div>
    <div class="neural-grid"></div>
    <div class="neural-particles"></div>
    <div class="neural-noise"></div>
  </div>

  <Container size="xl">
    <div class="meet-agentic">
      <div class="meet-agentic__content">
        <span class="meet-agentic__eyebrow">{eyebrow}</span>

        <h2 class="meet-agentic__title">{title} <span>{highlightText}</span></h2>

        {paragraphs.map((text) => (
          <p class="meet-agentic__text" set:html={text} />
        ))}

        <div class="meet-agentic__actions">
          <Button href={primaryCta.href} variant="primary">
            {primaryCta.label}
          </Button>
          <Button href={secondaryCta.href} variant="outline-dark">
            {secondaryCta.label}
          </Button>
        </div>
      </div>

      <!-- Neural Network Visualization -->
      <div class="neural-viz-container">
        <div class="neural-network" id="agentic-neural-network">
          <!-- SVG Canvas for connections -->
          <svg
            class="neural-connections"
            id="agentic-neural-svg"
            width="100%"
            height="100%"
            preserveAspectRatio="none"
          >
            <defs>
              <linearGradient
                id="agenticConnectionGradient"
                x1="0%"
                y1="0%"
                x2="100%"
                y2="0%"
              >
                <stop offset="0%" stop-color="rgba(234, 36, 43, 0)"></stop>
                <stop offset="50%" stop-color="rgba(234, 36, 43, 0.6)"></stop>
                <stop offset="100%" stop-color="rgba(234, 36, 43, 0)"></stop>
              </linearGradient>
              <filter
                id="agenticNodeGlow"
                x="-50%"
                y="-50%"
                width="200%"
                height="200%"
              >
                <feGaussianBlur stdDeviation="3" result="blur"></feGaussianBlur>
                <feMerge>
                  <feMergeNode in="blur"></feMergeNode>
                  <feMergeNode in="SourceGraphic"></feMergeNode>
                </feMerge>
              </filter>
            </defs>
          </svg>

          <!-- Central AI Core -->
          <div class="neural-core" id="agentic-neural-core">
            <div class="core-pulse"></div>
            <div class="core-ring core-ring-1"></div>
            <div class="core-ring core-ring-2"></div>
            <div class="core-logo">
              <Image
                src={dartLogoLight}
                alt="DART AI"
                width={80}
                height={26}
              />
            </div>
          </div>

          <!-- Stat Nodes -->
          {stats.map((stat, index) => (
            <div class="stat-node" data-node-index={index}>
              <div class="node-content">
                <div class="node-icon">
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d={stat.icon}></path>
                  </svg>
                </div>
                <div class="node-data">
                  <span class="node-value">{stat.value}</span>
                  <span class="node-label">{stat.label}</span>
                </div>
              </div>
              <div class="node-glow"></div>
            </div>
          ))}

          <!-- Floating data particles -->
          <div class="data-particles" id="agentic-data-particles"></div>
        </div>
      </div>
    </div>
  </Container>
</section>

<style>
  /* ========================================
     NEURAL BACKGROUND SYSTEM
     ======================================== */
  .meet-agentic-section {
    position: relative;
    padding: var(--space-20) 0;
    background: var(--color-bg-primary);
    overflow: hidden;
  }

  .neural-bg {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .neural-gradient {
    position: absolute;
    inset: 0;
    background:
      radial-gradient(
        ellipse 100% 80% at 80% 40%,
        rgba(234, 36, 43, 0.06) 0%,
        transparent 50%
      ),
      radial-gradient(
        ellipse 60% 60% at 20% 80%,
        rgba(234, 36, 43, 0.04) 0%,
        transparent 40%
      ),
      radial-gradient(
        ellipse 40% 40% at 90% 90%,
        rgba(234, 36, 43, 0.03) 0%,
        transparent 30%
      ),
      linear-gradient(180deg, var(--color-bg-primary) 0%, var(--color-bg-secondary) 50%, var(--color-bg-tertiary) 100%);
  }

  .neural-grid {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
      linear-gradient(rgba(234, 36, 43, 0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(234, 36, 43, 0.02) 1px, transparent 1px);
    background-size:
      60px 60px,
      60px 60px,
      15px 15px,
      15px 15px;
    mask-image: radial-gradient(
      ellipse 90% 80% at 70% 50%,
      black 20%,
      transparent 70%
    );
    -webkit-mask-image: radial-gradient(
      ellipse 90% 80% at 70% 50%,
      black 20%,
      transparent 70%
    );
  }

  .neural-particles {
    position: absolute;
    inset: 0;
    background-image:
      radial-gradient(
        circle at 20% 30%,
        rgba(234, 36, 43, 0.1) 0px,
        transparent 3px
      ),
      radial-gradient(
        circle at 80% 70%,
        rgba(234, 36, 43, 0.08) 0px,
        transparent 3px
      ),
      radial-gradient(
        circle at 40% 80%,
        rgba(0, 0, 0, 0.04) 0px,
        transparent 2px
      ),
      radial-gradient(
        circle at 60% 20%,
        rgba(0, 0, 0, 0.03) 0px,
        transparent 2px
      );
    animation: neuralParticleDrift 20s ease-in-out infinite;
  }

  @keyframes neuralParticleDrift {
    0%,
    100% {
      transform: translate(0, 0);
    }
    25% {
      transform: translate(10px, -10px);
    }
    50% {
      transform: translate(-5px, 5px);
    }
    75% {
      transform: translate(8px, 8px);
    }
  }

  .neural-noise {
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.025;
    mix-blend-mode: multiply;
  }

  /* ========================================
     MEET AGENTIC AI CONTENT
     ======================================== */
  .meet-agentic {
    position: relative;
    z-index: 1;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-12);
    align-items: center;
  }

  .meet-agentic__eyebrow {
    display: inline-block;
    margin-bottom: var(--space-4);
    font-family: var(--font-display);
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wider);
    color: var(--color-primary);
  }

  .meet-agentic__title {
    font-family: var(--font-display);
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: var(--font-bold);
    line-height: 1.2;
    letter-spacing: var(--tracking-tight);
    color: var(--color-text-primary);
    margin-bottom: var(--space-6);
  }

  .meet-agentic__title span {
    color: var(--color-primary);
  }

  .meet-agentic__text {
    font-family: var(--font-body);
    font-size: var(--text-base);
    line-height: var(--leading-relaxed);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-4);
  }

  .meet-agentic__text :global(strong) {
    color: var(--color-text-primary);
    font-weight: var(--font-semibold);
  }

  .meet-agentic__actions {
    display: flex;
    gap: var(--space-4);
    margin-top: var(--space-8);
  }

  /* ========================================
     NEURAL NETWORK VISUALIZATION
     ======================================== */
  .neural-viz-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 450px;
  }

  .neural-network {
    position: relative;
    width: 100%;
    max-width: 450px;
    aspect-ratio: 1;
  }

  .neural-connections {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 5;
    overflow: visible;
  }

  :global(.agentic-connection-line) {
    stroke: rgba(234, 36, 43, 0.5);
    stroke-width: 1.5;
    fill: none;
    stroke-dasharray: 6 4;
    stroke-linecap: round;
    transition: all 0.3s ease;
  }

  :global(.agentic-data-pulse) {
    fill: var(--color-primary);
  }

  /* Neural Core */
  .neural-core {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 120px;
    height: 120px;
    z-index: 10;
  }

  .core-pulse {
    position: absolute;
    inset: -20px;
    border-radius: 50%;
    background: radial-gradient(
      circle,
      rgba(234, 36, 43, 0.15) 0%,
      transparent 70%
    );
    animation: neuralCorePulse 3s ease-in-out infinite;
  }

  @keyframes neuralCorePulse {
    0%,
    100% {
      transform: scale(1);
      opacity: 0.5;
    }
    50% {
      transform: scale(1.2);
      opacity: 0.8;
    }
  }

  .core-ring {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 1px solid rgba(234, 36, 43, 0.25);
  }

  .core-ring-1 {
    inset: -10px;
    animation: neuralRingRotate 20s linear infinite;
    border-style: dashed;
    border-color: rgba(234, 36, 43, 0.2);
  }

  .core-ring-2 {
    inset: -25px;
    animation: neuralRingRotate 30s linear infinite reverse;
    border-style: dotted;
    border-color: rgba(234, 36, 43, 0.12);
  }

  @keyframes neuralRingRotate {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .core-logo {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border-radius: 50%;
    border: 1px solid var(--color-border-subtle);
    box-shadow:
      0 4px 30px rgba(0, 0, 0, 0.1),
      0 0 40px rgba(234, 36, 43, 0.1),
      inset 0 0 30px rgba(255, 255, 255, 0.5);
    overflow: hidden;
  }

  .core-logo img {
    width: 65%;
    height: auto;
  }

  /* Stat Nodes */
  .stat-node {
    position: absolute;
    transform: translate(-50%, -50%);
    z-index: 5;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .stat-node:hover {
    z-index: 20;
    transform: translate(-50%, -50%) scale(1.08);
  }

  .node-content {
    position: relative;
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3) var(--space-4);
    background: rgba(15, 15, 15, 0.92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1.5px dashed rgba(234, 36, 43, 0.5);
    border-radius: var(--radius-lg);
    transition: all 0.3s ease;
    white-space: nowrap;
    box-shadow: var(--shadow-lg);
  }

  .stat-node:hover .node-content {
    background: rgba(20, 20, 20, 0.95);
    border-color: rgba(234, 36, 43, 0.7);
    box-shadow: var(--shadow-xl);
  }

  .node-icon {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-primary-subtle);
    border-radius: var(--radius-md);
    color: var(--color-primary);
    transition: all 0.3s ease;
  }

  .stat-node:hover .node-icon {
    background: rgba(234, 36, 43, 0.3);
    transform: scale(1.1);
  }

  .node-data {
    display: flex;
    flex-direction: column;
  }

  .node-value {
    font-family: var(--font-display);
    font-size: var(--text-lg);
    font-weight: 700;
    color: var(--color-text-inverse);
    line-height: 1.1;
  }

  .node-label {
    font-size: var(--text-xs);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-secondary);
    margin-top: var(--space-0-5);
  }

  .node-glow {
    position: absolute;
    inset: -4px;
    background: radial-gradient(
      circle,
      rgba(234, 36, 43, 0.1) 0%,
      transparent 70%
    );
    border-radius: var(--radius-xl);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    z-index: -1;
  }

  .stat-node:hover .node-glow {
    opacity: 1;
  }

  /* Stat Node Floating Animations */
  .stat-node[data-node-index="0"] {
    animation: nodeFloat0 8s ease-in-out infinite;
  }
  .stat-node[data-node-index="1"] {
    animation: nodeFloat1 9s ease-in-out infinite;
  }
  .stat-node[data-node-index="2"] {
    animation: nodeFloat2 7s ease-in-out infinite;
  }
  .stat-node[data-node-index="3"] {
    animation: nodeFloat3 8.5s ease-in-out infinite;
  }

  @keyframes nodeFloat0 {
    0%, 100% { transform: translate(-50%, -50%) translateY(0) translateX(0); }
    50% { transform: translate(-50%, -50%) translateY(-8px) translateX(4px); }
  }

  @keyframes nodeFloat1 {
    0%, 100% { transform: translate(-50%, -50%) translateY(0) translateX(0); }
    50% { transform: translate(-50%, -50%) translateY(6px) translateX(-6px); }
  }

  @keyframes nodeFloat2 {
    0%, 100% { transform: translate(-50%, -50%) translateY(0) translateX(0); }
    50% { transform: translate(-50%, -50%) translateY(-10px) translateX(-4px); }
  }

  @keyframes nodeFloat3 {
    0%, 100% { transform: translate(-50%, -50%) translateY(0) translateX(0); }
    50% { transform: translate(-50%, -50%) translateY(8px) translateX(5px); }
  }

  /* Data Particles Container */
  .data-particles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 2;
  }

  :global(.agentic-data-particle) {
    position: absolute;
    width: 4px;
    height: 4px;
    background: rgba(140, 140, 140, 0.7);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 6px rgba(140, 140, 140, 0.5);
    pointer-events: none;
  }

  /* ========================================
     RESPONSIVE
     ======================================== */
  @media (max-width: 1024px) {
    .meet-agentic {
      grid-template-columns: 1fr;
      gap: var(--space-12);
    }

    .neural-viz-container {
      min-height: 400px;
    }

    .neural-network {
      max-width: 380px;
    }
  }

  @media (max-width: 768px) {
    .meet-agentic-section {
      padding: var(--space-12) 0;
    }

    .meet-agentic__title {
      font-size: var(--text-2xl);
    }

    .meet-agentic__actions {
      flex-direction: column;
    }

    .neural-viz-container {
      min-height: 350px;
    }

    .neural-network {
      max-width: 320px;
    }

    .neural-core {
      width: 90px;
      height: 90px;
    }

    .core-ring-1 {
      inset: -8px;
    }
    .core-ring-2 {
      inset: -18px;
    }

    .node-content {
      padding: var(--space-2) var(--space-3);
      gap: var(--space-2);
    }

    .node-icon {
      width: 28px;
      height: 28px;
    }

    .node-value {
      font-size: var(--text-base);
    }

    .node-label {
      font-size: 0.5625rem;
    }
  }
</style>

<script>
  import { initAgenticNeuralNetwork } from "../../../scripts/neural-network-agentic";

  function init(): void {
    setTimeout(initAgenticNeuralNetwork, 150);
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", init);
  } else {
    init();
  }

  // Resize handler
  let agenticResizeTimeout: ReturnType<typeof setTimeout>;
  window.addEventListener("resize", () => {
    clearTimeout(agenticResizeTimeout);
    agenticResizeTimeout = setTimeout(initAgenticNeuralNetwork, 250);
  });
</script>

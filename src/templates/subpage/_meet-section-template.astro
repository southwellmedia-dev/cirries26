---
/**
 * Meet[PRODUCT_NAME]Section Template
 *
 * Light-themed introduction section with neural network visualization.
 *
 * USAGE:
 * 1. Copy to: src/components/sections/[page-name]/Meet[Product]Section.astro
 * 2. Replace all [MARKERS] with your values
 * 3. Create matching animation script: src/scripts/neural-network-[page-name].ts
 * 4. Import your product logo SVG
 *
 * MARKERS TO REPLACE:
 * - [PRODUCT_NAME]: Display name (e.g., "DART AI")
 * - [PAGE_NAME]: kebab-case (e.g., "dart-ai")
 * - [COMPONENT_NAME]: CSS class prefix (e.g., "meet-dart")
 * - [SCRIPT_FUNCTION]: Export function name (e.g., "initDartNeuralNetwork")
 */

import { Image } from "astro:assets";
import Container from "../../ui/Container.astro";
import Button from "../../ui/Button.astro";

// CUSTOMIZE: Import your product logo
// import productLogo from "../../../assets/logos/[product]-lightmode.svg";

// ============================================
// PROPS INTERFACE
// ============================================
interface Stat {
  value: string;    // Display value (e.g., "24/7", "99.9%", "Real-time")
  label: string;    // Description label
  icon: string;     // SVG path data (d attribute)
}

interface Props {
  eyebrow?: string;
  title?: string;
  highlightText?: string;
  paragraphs?: string[];
  primaryCta?: { label: string; href: string };
  secondaryCta?: { label: string; href: string };
  stats?: Stat[];
}

// ============================================
// CUSTOMIZE: Default content values
// ============================================
const {
  eyebrow = "[EYEBROW_TEXT]",  // e.g., "AI-Powered Intelligence"
  title = "Meet",
  highlightText = "[PRODUCT_NAME]",
  paragraphs = [
    // CUSTOMIZE: Add your intro paragraphs
    // Supports HTML like <strong>bold text</strong>
    "First paragraph introducing the product and the problem it solves. Make this compelling and focused on user pain points.",
    "Second paragraph explaining the solution and its benefits. Highlight <strong>key differentiators</strong> and value propositions.",
    "<strong>[PRODUCT_NAME]</strong> is not just another tool; it's the intelligent core of your operations. Describe the transformative impact here."
  ],
  primaryCta = { label: "Get Started", href: "/contact" },
  secondaryCta = { label: "View All Solutions", href: "/solutions" },
  stats = [
    // CUSTOMIZE: 4 stats that orbit the neural network
    // Icons: Use SVG path data from Lucide, Heroicons, etc.
    {
      value: "Scalable",
      label: "Built for any size",
      icon: "M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"
    },
    {
      value: "24/7",
      label: "Always-on monitoring",
      icon: "M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zM12 6v6l4 2"
    },
    {
      value: "Real-time",
      label: "Instant detection",
      icon: "M13 2L3 14h9l-1 8 10-12h-9l1-8z"
    },
    {
      value: "Secure",
      label: "Enterprise-grade",
      icon: "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"
    }
  ]
} = Astro.props;
---

<section class="[COMPONENT_NAME]-section" data-theme="light">
  {/* ============================================
      NEURAL BACKGROUND SYSTEM
      - Gradient overlay
      - Grid pattern with mask
      - Particle effects
      - Noise texture
      ============================================ */}
  <div class="neural-bg">
    <div class="neural-gradient"></div>
    <div class="neural-grid"></div>
    <div class="neural-particles"></div>
    <div class="neural-noise"></div>
  </div>

  <Container size="xl">
    <div class="[COMPONENT_NAME]">
      {/* ============================================
          CONTENT COLUMN (Left)
          ============================================ */}
      <div class="[COMPONENT_NAME]__content">
        <span class="[COMPONENT_NAME]__eyebrow">{eyebrow}</span>

        <h2 class="[COMPONENT_NAME]__title">{title} <span>{highlightText}</span></h2>

        {paragraphs.map((text) => (
          <p class="[COMPONENT_NAME]__text" set:html={text} />
        ))}

        <div class="[COMPONENT_NAME]__actions">
          <Button href={primaryCta.href} variant="primary">
            {primaryCta.label}
          </Button>
          <Button href={secondaryCta.href} variant="outline-dark">
            {secondaryCta.label}
          </Button>
        </div>
      </div>

      {/* ============================================
          NEURAL NETWORK VISUALIZATION (Right)
          ============================================ */}
      <div class="neural-viz-container">
        {/* CUSTOMIZE: Update ID to match your script selectors */}
        <div class="neural-network" id="[PAGE_NAME]-neural-network">
          {/* SVG Canvas for connection lines */}
          <svg
            class="neural-connections"
            id="[PAGE_NAME]-neural-svg"
            width="100%"
            height="100%"
            preserveAspectRatio="none"
          >
            <defs>
              <linearGradient
                id="connectionGradient"
                x1="0%"
                y1="0%"
                x2="100%"
                y2="0%"
              >
                <stop offset="0%" stop-color="rgba(220, 38, 38, 0)"></stop>
                <stop offset="50%" stop-color="rgba(220, 38, 38, 0.6)"></stop>
                <stop offset="100%" stop-color="rgba(220, 38, 38, 0)"></stop>
              </linearGradient>
              <filter
                id="nodeGlow"
                x="-50%"
                y="-50%"
                width="200%"
                height="200%"
              >
                <feGaussianBlur stdDeviation="3" result="blur"></feGaussianBlur>
                <feMerge>
                  <feMergeNode in="blur"></feMergeNode>
                  <feMergeNode in="SourceGraphic"></feMergeNode>
                </feMerge>
              </filter>
            </defs>
          </svg>

          {/* Central AI Core */}
          <div class="neural-core" id="[PAGE_NAME]-neural-core">
            <div class="core-pulse"></div>
            <div class="core-ring core-ring-1"></div>
            <div class="core-ring core-ring-2"></div>
            <div class="core-logo">
              {/* CUSTOMIZE: Add your product logo */}
              {/* <Image
                src={productLogo}
                alt="[PRODUCT_NAME]"
                width={80}
                height={26}
              /> */}
              {/* Placeholder - replace with logo */}
              <span class="logo-placeholder">[LOGO]</span>
            </div>
          </div>

          {/* Stat Nodes - Orbit around core */}
          {stats.map((stat, index) => (
            <div class="stat-node" data-node-index={index}>
              <div class="node-content">
                <div class="node-icon">
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d={stat.icon}></path>
                  </svg>
                </div>
                <div class="node-data">
                  <span class="node-value">{stat.value}</span>
                  <span class="node-label">{stat.label}</span>
                </div>
              </div>
              <div class="node-glow"></div>
            </div>
          ))}

          {/* Floating data particles container */}
          <div class="data-particles" id="[PAGE_NAME]-data-particles"></div>
        </div>
      </div>
    </div>
  </Container>
</section>

<style>
  /* ========================================
     NEURAL BACKGROUND SYSTEM
     ======================================== */
  .[COMPONENT_NAME]-section {
    position: relative;
    padding: var(--space-20) 0;
    background: #ffffff;
    overflow: hidden;
  }

  .neural-bg {
    position: absolute;
    inset: 0;
    z-index: 0;
  }

  .neural-gradient {
    position: absolute;
    inset: 0;
    background:
      radial-gradient(
        ellipse 100% 80% at 80% 40%,
        rgba(220, 38, 38, 0.06) 0%,
        transparent 50%
      ),
      radial-gradient(
        ellipse 60% 60% at 20% 80%,
        rgba(220, 38, 38, 0.04) 0%,
        transparent 40%
      ),
      radial-gradient(
        ellipse 40% 40% at 90% 90%,
        rgba(220, 38, 38, 0.03) 0%,
        transparent 30%
      ),
      linear-gradient(180deg, #ffffff 0%, #f8f9fa 50%, #f0f1f3 100%);
  }

  .neural-grid {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
      linear-gradient(rgba(220, 38, 38, 0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(220, 38, 38, 0.02) 1px, transparent 1px);
    background-size:
      60px 60px,
      60px 60px,
      15px 15px,
      15px 15px;
    mask-image: radial-gradient(
      ellipse 90% 80% at 70% 50%,
      black 20%,
      transparent 70%
    );
    -webkit-mask-image: radial-gradient(
      ellipse 90% 80% at 70% 50%,
      black 20%,
      transparent 70%
    );
  }

  .neural-particles {
    position: absolute;
    inset: 0;
    background-image:
      radial-gradient(
        circle at 20% 30%,
        rgba(220, 38, 38, 0.1) 0px,
        transparent 3px
      ),
      radial-gradient(
        circle at 80% 70%,
        rgba(220, 38, 38, 0.08) 0px,
        transparent 3px
      ),
      radial-gradient(
        circle at 40% 80%,
        rgba(0, 0, 0, 0.04) 0px,
        transparent 2px
      ),
      radial-gradient(
        circle at 60% 20%,
        rgba(0, 0, 0, 0.03) 0px,
        transparent 2px
      );
    animation: neuralParticleDrift 20s ease-in-out infinite;
  }

  @keyframes neuralParticleDrift {
    0%, 100% { transform: translate(0, 0); }
    25% { transform: translate(10px, -10px); }
    50% { transform: translate(-5px, 5px); }
    75% { transform: translate(8px, 8px); }
  }

  .neural-noise {
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.025;
    mix-blend-mode: multiply;
  }

  /* ========================================
     CONTENT LAYOUT
     ======================================== */
  .[COMPONENT_NAME] {
    position: relative;
    z-index: 1;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-12);
    align-items: center;
  }

  .[COMPONENT_NAME]__eyebrow {
    display: inline-block;
    margin-bottom: var(--space-4);
    font-family: var(--font-display);
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wider);
    color: var(--color-primary);
  }

  .[COMPONENT_NAME]__title {
    font-family: var(--font-display);
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: var(--font-bold);
    line-height: 1.2;
    letter-spacing: var(--tracking-tight);
    color: #111111;
    margin-bottom: var(--space-6);
  }

  .[COMPONENT_NAME]__title span {
    color: var(--color-primary);
  }

  .[COMPONENT_NAME]__text {
    font-family: var(--font-body);
    font-size: var(--text-base);
    line-height: var(--leading-relaxed);
    color: #555555;
    margin-bottom: var(--space-4);
  }

  .[COMPONENT_NAME]__text :global(strong) {
    color: #111111;
    font-weight: var(--font-semibold);
  }

  .[COMPONENT_NAME]__actions {
    display: flex;
    gap: var(--space-4);
    margin-top: var(--space-8);
  }

  /* ========================================
     NEURAL NETWORK VISUALIZATION
     ======================================== */
  .neural-viz-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 450px;
  }

  .neural-network {
    position: relative;
    width: 100%;
    max-width: 450px;
    aspect-ratio: 1;
  }

  .neural-connections {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 5;
    overflow: visible;
  }

  :global(.connection-line) {
    stroke: rgba(220, 38, 38, 0.5);
    stroke-width: 1.5;
    fill: none;
    stroke-dasharray: 6 4;
    stroke-linecap: round;
    transition: all 0.3s ease;
  }

  :global(.data-pulse) {
    fill: var(--color-primary);
  }

  /* Neural Core */
  .neural-core {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 120px;
    height: 120px;
    z-index: 10;
  }

  .core-pulse {
    position: absolute;
    inset: -20px;
    border-radius: 50%;
    background: radial-gradient(
      circle,
      rgba(220, 38, 38, 0.15) 0%,
      transparent 70%
    );
    animation: neuralCorePulse 3s ease-in-out infinite;
  }

  @keyframes neuralCorePulse {
    0%, 100% { transform: scale(1); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 0.8; }
  }

  .core-ring {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 1px solid rgba(220, 38, 38, 0.25);
  }

  .core-ring-1 {
    inset: -10px;
    animation: neuralRingRotate 20s linear infinite;
    border-style: dashed;
    border-color: rgba(220, 38, 38, 0.2);
  }

  .core-ring-2 {
    inset: -25px;
    animation: neuralRingRotate 30s linear infinite reverse;
    border-style: dotted;
    border-color: rgba(220, 38, 38, 0.12);
  }

  @keyframes neuralRingRotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .core-logo {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border-radius: 50%;
    border: 1px solid rgba(0, 0, 0, 0.08);
    box-shadow:
      0 4px 30px rgba(0, 0, 0, 0.1),
      0 0 40px rgba(220, 38, 38, 0.1),
      inset 0 0 30px rgba(255, 255, 255, 0.5);
    overflow: hidden;
  }

  .core-logo img {
    width: 65%;
    height: auto;
  }

  /* CUSTOMIZE: Remove this placeholder style when using real logo */
  .logo-placeholder {
    font-family: var(--font-display);
    font-size: var(--text-xs);
    font-weight: var(--font-bold);
    color: var(--color-primary);
    opacity: 0.5;
  }

  /* Stat Nodes */
  .stat-node {
    position: absolute;
    transform: translate(-50%, -50%);
    z-index: 5;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .stat-node:hover {
    z-index: 20;
    transform: translate(-50%, -50%) scale(1.08);
  }

  .node-content {
    position: relative;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem 1.25rem;
    background: rgba(15, 15, 15, 0.92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1.5px dashed rgba(220, 38, 38, 0.5);
    border-radius: 12px;
    transition: all 0.3s ease;
    white-space: nowrap;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
  }

  .stat-node:hover .node-content {
    background: rgba(20, 20, 20, 0.95);
    border-color: rgba(220, 38, 38, 0.7);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.35);
  }

  .node-icon {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(220, 38, 38, 0.2);
    border-radius: 8px;
    color: #dc2626;
    transition: all 0.3s ease;
  }

  .stat-node:hover .node-icon {
    background: rgba(220, 38, 38, 0.3);
    transform: scale(1.1);
  }

  .node-data {
    display: flex;
    flex-direction: column;
  }

  .node-value {
    font-family: var(--font-display);
    font-size: 1.125rem;
    font-weight: 700;
    color: #ffffff;
    line-height: 1.1;
  }

  .node-label {
    font-size: 0.6875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: rgba(255, 255, 255, 0.7);
    margin-top: 2px;
  }

  .node-glow {
    position: absolute;
    inset: -4px;
    background: radial-gradient(
      circle,
      rgba(220, 38, 38, 0.1) 0%,
      transparent 70%
    );
    border-radius: 16px;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    z-index: -1;
  }

  .stat-node:hover .node-glow {
    opacity: 1;
  }

  /* Floating Animations for Stat Nodes */
  .stat-node[data-node-index="0"] {
    animation: nodeFloat0 8s ease-in-out infinite;
  }
  .stat-node[data-node-index="1"] {
    animation: nodeFloat1 9s ease-in-out infinite;
  }
  .stat-node[data-node-index="2"] {
    animation: nodeFloat2 7s ease-in-out infinite;
  }
  .stat-node[data-node-index="3"] {
    animation: nodeFloat3 8.5s ease-in-out infinite;
  }

  @keyframes nodeFloat0 {
    0%, 100% { transform: translate(-50%, -50%) translateY(0) translateX(0); }
    50% { transform: translate(-50%, -50%) translateY(-8px) translateX(4px); }
  }

  @keyframes nodeFloat1 {
    0%, 100% { transform: translate(-50%, -50%) translateY(0) translateX(0); }
    50% { transform: translate(-50%, -50%) translateY(6px) translateX(-6px); }
  }

  @keyframes nodeFloat2 {
    0%, 100% { transform: translate(-50%, -50%) translateY(0) translateX(0); }
    50% { transform: translate(-50%, -50%) translateY(-10px) translateX(-4px); }
  }

  @keyframes nodeFloat3 {
    0%, 100% { transform: translate(-50%, -50%) translateY(0) translateX(0); }
    50% { transform: translate(-50%, -50%) translateY(8px) translateX(5px); }
  }

  /* Data Particles Container */
  .data-particles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 2;
  }

  :global(.data-particle) {
    position: absolute;
    width: 4px;
    height: 4px;
    background: rgba(140, 140, 140, 0.7);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 6px rgba(140, 140, 140, 0.5);
    pointer-events: none;
  }

  /* ========================================
     RESPONSIVE
     ======================================== */
  @media (max-width: 1024px) {
    .[COMPONENT_NAME] {
      grid-template-columns: 1fr;
      gap: var(--space-12);
    }

    .neural-viz-container {
      min-height: 400px;
    }

    .neural-network {
      max-width: 380px;
    }
  }

  @media (max-width: 768px) {
    .[COMPONENT_NAME]-section {
      padding: var(--space-12) 0;
    }

    .[COMPONENT_NAME]__title {
      font-size: var(--text-2xl);
    }

    .[COMPONENT_NAME]__actions {
      flex-direction: column;
    }

    .neural-viz-container {
      min-height: 350px;
    }

    .neural-network {
      max-width: 320px;
    }

    .neural-core {
      width: 90px;
      height: 90px;
    }

    .core-ring-1 {
      inset: -8px;
    }
    .core-ring-2 {
      inset: -18px;
    }

    .node-content {
      padding: 0.625rem 0.875rem;
      gap: 0.5rem;
    }

    .node-icon {
      width: 28px;
      height: 28px;
    }

    .node-value {
      font-size: 0.95rem;
    }

    .node-label {
      font-size: 0.5625rem;
    }
  }
</style>

{/* ============================================
    ANIMATION SCRIPT
    CUSTOMIZE: Update import path and function name
    ============================================ */}
<script>
  // CUSTOMIZE: Update this import to your script file
  import { init[SCRIPT_FUNCTION] } from "../../../scripts/neural-network-[PAGE_NAME]";

  function init(): void {
    setTimeout(init[SCRIPT_FUNCTION], 150);
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", init);
  } else {
    init();
  }

  // Resize handler for repositioning
  let resizeTimeout: ReturnType<typeof setTimeout>;
  window.addEventListener("resize", () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(init[SCRIPT_FUNCTION], 250);
  });
</script>
